<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover" />
  <title>Slot Studio (Custom Slots)</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <header class="topbar">
    <div class="brand">
      <div class="logo" id="secretLogo">üé∞</div>
      <div>
        <div class="title">Slot Studio</div>
        <div class="subtitle">Mehrere Slots ‚Ä¢ Admin-Builder ‚Ä¢ Triple-Triple Chance Feature</div>
      </div>
    </div>

    <div class="tabs">
      <button class="tab active" id="tabPlay">Play</button>
      <button class="tab hidden" id="tabBuilder">Builder</button>
    </div>
  </header>

  <main class="wrap">

    <!-- ===================== PLAY ===================== -->
    <section id="viewPlay" class="view">
      <div class="panel">
        <div class="panelHead">
          <div class="row gap wrapRow">
            <div class="slotName" id="slotName">‚Äî</div>
            <select id="slotSelect" class="select"></select>
            <span class="pill hidden" id="adminPill">ADMIN</span>
          </div>
          <div class="tiny">Demo/Arcade (kein Echtgeld)</div>
        </div>

        <div class="hud">
          <div class="hudBox">
            <div class="hudLabel">Credits</div>
            <div class="hudValue" id="credits">0</div>
          </div>
          <div class="hudBox">
            <div class="hudLabel">Bet / Linie</div>
            <div class="hudValue row">
              <button class="mini" id="betDown">‚Äì</button>
              <div id="betPerLine">1</div>
              <button class="mini" id="betUp">+</button>
            </div>
          </div>
          <div class="hudBox">
            <div class="hudLabel">Linien</div>
            <div class="hudValue" id="lineCount">0</div>
          </div>
          <div class="hudBox">
            <div class="hudLabel">Sounds</div>
            <div class="hudValue row">
              <button class="mini" id="soundToggle">ON</button>
              <button class="mini ghost" id="resetCredits">Reset</button>
            </div>
          </div>
        </div>

        <div class="reels" id="reels"></div>

        <div class="controls">
          <button class="btn primary" id="spinBtn">SPIN</button>
          <button class="btn" id="autoBtn">AUTO: OFF</button>
          <button class="btn hidden" id="simBtn">RTP Test (10k)</button>
        </div>

        <div class="msg" id="msg">Bereit.</div>
        <div class="wins" id="wins"></div>
      </div>
    </section>

    <!-- ===================== BUILDER ===================== -->
    <section id="viewBuilder" class="view hidden">
      <div class="panel">
        <div class="panelHead">
          <div class="slotName">Builder</div>
          <div class="tiny">Nur Admin: Slots verwalten, Symbole/Gewichte/Payouts/Linien/Features.</div>
        </div>

        <div class="builderGrid">

          <div class="card">
            <div class="cardTitle">Slot Auswahl</div>
            <label class="field">
              <span>Slot</span>
              <select id="bSlotSelect" class="select"></select>
            </label>
            <div class="row gap">
              <button class="btn" id="newSlotBtn">Neuer Slot</button>
              <button class="btn" id="dupSlotBtn">Duplizieren</button>
              <button class="btn danger" id="delSlotBtn">L√∂schen</button>
            </div>
            <div class="hint">Tipp: Der ‚ÄúTriple-Triple Chance‚Äù Slot ist schon drin.</div>
          </div>

          <div class="card">
            <div class="cardTitle">Slot Einstellungen</div>
            <label class="field">
              <span>Name</span>
              <input id="bName" type="text" placeholder="Mein Slot" />
            </label>
            <label class="field">
              <span>Start-Credits</span>
              <input id="bStartCredits" type="number" min="0" step="1" />
            </label>
            <label class="field">
              <span>Akzentfarbe (Hex)</span>
              <input id="bAccent" type="text" placeholder="#00e5ff" />
            </label>

            <div class="divider"></div>

            <label class="field">
              <span>Reel Mode</span>
              <select id="bReelMode" class="select">
                <option value="independent">Independent (random pro Feld)</option>
                <option value="stacked">Stacked (jede Walze = 1 Symbol, 3-fach gestapelt)</option>
              </select>
            </label>

            <label class="field rowStart">
              <input id="bTTEnabled" type="checkbox" />
              <span>Triple-Triple Chance aktiv (Trigger: Vollbild)</span>
            </label>

            <div class="row gap">
              <label class="field">
                <span>Greens / Runde</span>
                <input id="bTTGreens" type="number" min="1" max="20" step="1" />
              </label>
              <label class="field">
                <span>Reds / Runde</span>
                <input id="bTTReds" type="number" min="1" max="20" step="1" />
              </label>
              <label class="field">
                <span>Max Runden</span>
                <input id="bTTMaxRounds" type="number" min="0" max="99" step="1" />
              </label>
            </div>

            <div class="hint">
              ‚ÄúVollbild‚Äù = 15 gleiche Symbole. Pro Gr√ºn bekommst du den Vollbild-Payout nochmal. Rot killt den Bonus.
            </div>
          </div>

          <div class="card">
            <div class="cardTitle">Linien (Paylines)</div>
            <div class="lines" id="bLines"></div>
            <div class="hint">Gewinne z√§hlen pro Linie (links ‚Üí rechts).</div>
          </div>

          <div class="card wide">
            <div class="cardTitle row space">
              <span>Symbole & Auszahlungen</span>
              <button class="mini" id="addSymbol">+ Symbol</button>
            </div>

            <div class="tableWrap">
              <table class="table" id="symbolTable">
                <thead>
                  <tr>
                    <th>Icon (Emoji oder URL)</th>
                    <th>Name</th>
                    <th>Gewicht</th>
                    <th>Payout 3</th>
                    <th>Payout 4</th>
                    <th>Payout 5</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="symbolTbody"></tbody>
              </table>
            </div>

            <div class="hint">
              Gewicht = H√§ufigkeit. Payouts sind ‚Äúx Bet/Linie‚Äù.
            </div>
          </div>

          <div class="card wide">
            <div class="cardTitle">Export / Import (JSON)</div>
            <textarea id="jsonBox" class="json" spellcheck="false"></textarea>
            <div class="row gap">
              <button class="btn" id="exportBtn">Export JSON</button>
              <button class="btn" id="importBtn">Import JSON</button>
              <button class="btn primary" id="saveBtn">Speichern & Anwenden</button>
            </div>
          </div>

        </div>
      </div>
    </section>

  </main>

  <!-- ===================== ADMIN MODAL ===================== -->
  <div id="adminModal" class="modal hidden">
    <div class="modalCard">
      <div class="modalTitle">Admin Unlock</div>
      <div class="tiny">√ñffnen: <b>Ctrl + Alt + #</b> (oder Ctrl+Alt+3)</div>

      <label class="field">
        <span>Admin Code</span>
        <input id="adminCode" type="password" placeholder="Code eingeben‚Ä¶" />
      </label>

      <div class="row gap">
        <button class="btn primary" id="adminUnlockBtn">Unlock</button>
        <button class="btn danger" id="adminLogoutBtn">Logout</button>
        <button class="btn" id="adminCloseBtn">Close</button>
      </div>

      <div class="tiny" id="adminStatus"></div>
    </div>
  </div>

  <!-- ===================== TRIPLE-TRIPLE CHANCE MODAL ===================== -->
  <div id="ttcModal" class="modal hidden">
    <div class="modalCard">
      <div class="modalTitle">Triple-Triple Chance</div>
      <div class="tiny">Gr√ºn = Vollbild-Payout nochmal. Rot = Bonus weg & Ende.</div>

      <div class="ttcStats">
        <div>Vollbild-Payout: <b id="ttcBase">0</b></div>
        <div>Bonus gesammelt: <b id="ttcPending">0</b></div>
        <div>Greens: <b id="ttcGreens">0</b></div>
        <div>Runde: <b id="ttcRound">0</b></div>
      </div>

      <div class="ttcBoard" id="ttcBoard"></div>
      <div class="ttcLamps" id="ttcLamps"></div>

      <div class="row gap" style="margin-top:12px;">
        <button class="btn primary" id="ttcSpinBtn">SPIN-OFF</button>
        <button class="btn" id="ttcCollectBtn">COLLECT</button>
      </div>
      <div class="msg" id="ttcMsg" style="margin-top:10px;">‚Äî</div>
    </div>
  </div>

  <script src="slot.js"></script>
</body>
</html>
