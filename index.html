<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Multi Slot System</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <header class="topbar">
    <div class="brand">
      <div class="logoBadge">SLOTS</div>
      <div class="brandText">
        <div class="title">Multi Slot System</div>
        <div class="sub">5×3 · 10 Linien · Reel-Animation + Sound</div>
      </div>
    </div>

    <div class="hud">
      <div class="hudItem">
        <div class="hudLabel">Balance</div>
        <div class="hudValue" id="balance">€0.00</div>
      </div>

      <div class="hudItem hudButtons">
        <button id="wheelBtn" class="btn">Daily Wheel</button>
      </div>

      <div class="hudItem hudSmall">
        <div class="hint">
          Admin: <span class="kbd">STRG</span> + <span class="kbd">ALT</span> + <span class="kbd">#</span>
        </div>
        <div class="hint2" id="wheelCooldownText">Wheel: bereit</div>
      </div>
    </div>
  </header>

  <main class="main">
    <section class="panel">
      <div class="panelHeader">
        <div class="panelTitle">Slot</div>
        <div class="panelMeta" id="slotMeta">—</div>
      </div>

      <!-- Slot Auswahl -->
      <div class="slotRow">
        <label class="field inline">
          <span>Slot auswählen</span>
          <select id="slotSelect" class="select"></select>
        </label>
      </div>

      <div class="gameArea">
        <div id="baseBoard" class="board"></div>
      </div>

      <!-- Controls unter Slot -->
      <div class="controls">
        <button id="spinBtn" class="btn primary">SPIN</button>
        <button id="autoBtn" class="btn">AUTO: AUS</button>

        <label class="betField">
          <span>Einsatz</span>
          <select id="betSelect" class="select"></select>
        </label>
      </div>

      <div class="resultBar">
        <div class="status" id="statusText">Bereit.</div>
        <div class="winBox">
          <div class="winLabel">Letzter Gewinn</div>
          <div class="winValue" id="lastWin">€0.00</div>
        </div>
      </div>

      <!-- Nur 1 Anzeige (kein endloses Log) -->
      <div class="eventBox" id="eventBox">—</div>
    </section>

    <!-- POWER PANEL -->
    <section class="panel hidden" id="powerPanel">
      <div class="panelHeader">
        <div class="panelTitle">Power-Spins</div>
        <div class="panelMeta" id="powerMeta">—</div>
      </div>

      <div class="powerGrid">
        <div class="miniBoardWrap">
          <div class="miniLabel">Feld 1</div>
          <div id="pBoard1" class="board mini"></div>
        </div>
        <div class="miniBoardWrap">
          <div class="miniLabel">Feld 2</div>
          <div id="pBoard2" class="board mini"></div>
        </div>
        <div class="miniBoardWrap">
          <div class="miniLabel">Feld 3</div>
          <div id="pBoard3" class="board mini"></div>
        </div>
        <div class="miniBoardWrap">
          <div class="miniLabel">Feld 4</div>
          <div id="pBoard4" class="board mini"></div>
        </div>
      </div>

      <div class="resultBar">
        <div class="status" id="powerStatus">Power-Spins bereit.</div>
        <div class="winBox">
          <div class="winLabel">Power-Gewinn</div>
          <div class="winValue" id="powerWin">€0.00</div>
        </div>
      </div>
    </section>
  </main>

  <!-- POWER MODAL -->
  <div class="modalOverlay hidden" id="powerModalOverlay">
    <div class="modal">
      <div class="modalHeader">
        <div class="modalTitle">Power-Spins verfügbar</div>
        <button class="iconBtn" id="closePowerModal" aria-label="close">✕</button>
      </div>
      <div class="modalBody">
        <p id="powerModalText" class="modalText">—</p>

        <label class="field">
          <span>Power-Spins kaufen (Kosten = Einsatz pro Spin)</span>
          <input type="range" min="1" max="1" value="1" id="powerBuyRange" />
          <div class="rangeMeta">
            <span id="powerBuySpins">1 Spin</span>
            <span id="powerBuyCost">€0.00</span>
          </div>
        </label>

        <div class="modalActions">
          <button class="btn" id="takeWinBtn">Gewinn nehmen</button>
          <button class="btn primary" id="buyPowerBtn">In Power-Spins investieren</button>
        </div>
      </div>
    </div>
  </div>

  <!-- WHEEL MODAL -->
  <div class="modalOverlay hidden" id="wheelModalOverlay">
    <div class="modal">
      <div class="modalHeader">
        <div class="modalTitle">Daily Wheel (alle 24 Stunden)</div>
        <button class="iconBtn" id="closeWheelModal" aria-label="close">✕</button>
      </div>
      <div class="modalBody">
        <p class="modalText" id="wheelInfo">Dreh am Rad und gewinne €10 bis €100.</p>

        <div class="wheelWrap">
          <div class="wheel" id="wheel">
            <div class="wheelCenter">€</div>
          </div>
          <div class="wheelPointer" aria-hidden="true"></div>
        </div>

        <div class="modalActions">
          <button class="btn primary" id="spinWheelBtn">Wheel drehen</button>
        </div>

        <div class="smallNote" id="wheelReadyText">—</div>
      </div>
    </div>
  </div>

  <!-- ADMIN / BUILDER -->
  <div class="modalOverlay hidden" id="adminOverlay">
    <div class="modal wide">
      <div class="modalHeader">
        <div class="modalTitle">Admin / Builder</div>
        <button class="iconBtn" id="closeAdmin" aria-label="close">✕</button>
      </div>

      <div class="modalBody">
        <div class="adminGrid">
          <div class="cardBox">
            <div class="cardTitle">Admin Aktionen</div>

            <label class="field">
              <span>Balance setzen (€)</span>
              <input id="adminBalanceInput" type="number" min="0" step="0.01" />
            </label>

            <div class="row">
              <button class="btn" id="adminSetBalanceBtn">Balance übernehmen</button>
              <button class="btn" id="adminResetWheelBtn">Wheel Cooldown reset</button>
            </div>

            <div class="row">
              <button class="btn" id="adminExportDataBtn">Export Save (JSON)</button>
              <button class="btn danger" id="adminResetAllBtn">ALLES zurücksetzen</button>
            </div>

            <div class="smallNote">
              Admin aktiv durch <b>STRG+ALT+#</b> (Passwort: 1403).
            </div>
          </div>

          <div class="cardBox">
            <div class="cardTitle">Builder Modus (Slots)</div>

            <div class="row">
              <button class="btn" id="builderNewBtn">Neuer Slot</button>
              <button class="btn" id="builderCloneBtn">Slot klonen</button>
              <button class="btn danger" id="builderDeleteBtn">Custom Slot löschen</button>
            </div>

            <label class="field">
              <span>Slot auswählen</span>
              <select id="builderSlotSelect" class="select"></select>
            </label>

            <label class="field">
              <span>Slot Config (JSON)</span>
              <textarea id="builderJson" class="textarea" rows="16" spellcheck="false"></textarea>
            </label>

            <div class="row">
              <button class="btn primary" id="builderSaveBtn">Validieren & Speichern</button>
              <button class="btn" id="builderExportSlotBtn">Slot Export</button>
              <button class="btn" id="builderImportSlotBtn">Slot Import</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
