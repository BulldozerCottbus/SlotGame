<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Rocker Empire</title>

<style>
/* ================= CORE ================= */
:root{
  --bg:#0b0b0b;
  --panel:#151515;
  --card:#1d1d1d;
  --accent:#b30000;
  --good:#2ecc71;
  --warn:#f1c40f;
  --bad:#e74c3c;
  --muted:#9aa0a6;
}
*{box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont}
body{margin:0;background:var(--bg);color:#fff;overflow:hidden}

/* ================= SCREENS ================= */
.screen{display:none;height:100vh;width:100vw}
.screen.active{display:flex;flex-direction:column}

/* ================= HUD ================= */
#hud{
  background:linear-gradient(180deg,#111,#0b0b0b);
  padding:10px 14px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-bottom:1px solid #222;
}
.hud-item{font-size:14px}
.hud-heat{font-weight:700}
.hud-heat.low{color:var(--good)}
.hud-heat.mid{color:var(--warn)}
.hud-heat.high{color:var(--bad);animation:pulse 1s infinite}

@keyframes pulse{
  0%{opacity:1}50%{opacity:.6}100%{opacity:1}
}

/* ================= CONTENT ================= */
#content{
  flex:1;
  position:relative;
  overflow:hidden;
}
.panel{
  position:absolute;
  inset:0;
  background:var(--panel);
  transform:translateX(100%);
  transition:.35s ease;
  overflow-y:auto;
  padding:14px;
}
.panel.active{transform:translateX(0)}

/* ================= BOTTOM BAR ================= */
#bottomBar{
  background:#111;
  border-top:1px solid #222;
  display:flex;
  justify-content:space-around;
  padding:6px 0;
}
#bottomBar button{
  background:none;
  border:none;
  color:#aaa;
  font-size:13px;
}
#bottomBar button.active{color:#fff}

/* ================= CARDS ================= */
.card{
  background:var(--card);
  border-radius:12px;
  padding:12px;
  margin-bottom:12px;
}
.region{
  padding:12px;
  border:1px solid #333;
  border-radius:10px;
  margin-bottom:10px;
}
button{
  width:100%;
  background:var(--accent);
  color:#fff;
  border:none;
  padding:12px;
  border-radius:10px;
  margin-top:6px;
}

/* ================= START / MENU ================= */
.center{
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  height:100%;
  padding:20px;
}
.big-btn{font-size:18px;padding:16px}

/* ================= ANIM NUMBERS ================= */
.anim{
  transition:all .3s ease;
}
</style>
</head>

<body>

<!-- ================= START ================= -->
<section id="start" class="screen active">
  <div class="center">
    <h1>ğŸï¸ ROCKER EMPIRE</h1>
    <button class="big-btn" onclick="go('chars')">SPIELEN</button>
  </div>
</section>

<!-- ================= CHAR SELECT ================= -->
<section id="chars" class="screen">
  <div class="center">
    <h2>Charaktere</h2>
    <div id="charList"></div>
    <button onclick="go('create')">+ Neuer Charakter</button>
    <button onclick="go('start')">ZurÃ¼ck</button>
  </div>
</section>

<!-- ================= CREATE ================= -->
<section id="create" class="screen">
  <div class="center">
    <h2>Neuer Charakter</h2>
    <input id="nameInput" placeholder="Name (Liga 4)" />
    <select id="ligaInput" onchange="updateCreateUI()">
      <option value="4">Liga 4 â€“ EigenstÃ¤ndig</option>
      <option value="3">Liga 3 â€“ Supporter</option>
    </select>
    <select id="mcSelect" style="display:none"></select>
    <button onclick="createChar()">Erstellen</button>
    <button onclick="go('chars')">Abbrechen</button>
  </div>
</section>

<!-- ================= GAME ================= -->
<section id="game" class="screen">

  <!-- HUD -->
  <div id="hud">
    <div class="hud-item">ğŸ’¶ <span id="hudMoney">0</span></div>
    <div class="hud-item">ğŸ‘¥ <span id="hudMembers">0</span></div>
    <div class="hud-item">ğŸ”« <span id="hudWeapons">0</span></div>
    <div class="hud-item hud-heat low" id="hudHeat">Heat 0%</div>
  </div>

  <!-- CONTENT -->
  <div id="content">

    <!-- CHAR -->
    <div id="panel-char" class="panel active"></div>

    <!-- MAP -->
    <div id="panel-map" class="panel"></div>

    <!-- SHOP -->
    <div id="panel-shop" class="panel"></div>

    <!-- POLICE -->
    <div id="panel-police" class="panel"></div>

  </div>

  <!-- BOTTOM BAR -->
  <div id="bottomBar">
    <button onclick="openPanel('char')" class="active">ğŸ‘¤</button>
    <button onclick="openPanel('map')">ğŸ—ºï¸</button>
    <button onclick="openPanel('shop')">ğŸª</button>
    <button onclick="openPanel('police')">ğŸš“</button>
  </div>
</section>

<script>
/* ================= DATA ================= */
const SAVE_KEY="rocker_empire_ui_v1";

const MCs={
  "Hells Angels MC":{loyalty:40},
  "Bandidos MC":{loyalty:35},
  "Outlaws MC":{loyalty:30},
  "Pagans MC":{loyalty:30},
  "Sons of Silence":{loyalty:25}
};

const REGIONS=[
  {name:"Berlin",owner:"Hells Angels MC"},
  {name:"Hamburg",owner:"Bandidos MC"},
  {name:"NRW",owner:"Outlaws MC"},
  {name:"Bayern",owner:"Pagans MC"},
  {name:"Sachsen",owner:"Sons of Silence"}
];

const LIGA3_MCS=["Bulldozer Cottbus","Red Devils Support"];

let state={chars:[]};
let current=null;

/* ================= NAV ================= */
function go(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}
function openPanel(name){
  document.querySelectorAll(".panel").forEach(p=>p.classList.remove("active"));
  document.getElementById("panel-"+name).classList.add("active");
  document.querySelectorAll("#bottomBar button").forEach(b=>b.classList.remove("active"));
  event.target.classList.add("active");
}

/* ================= SAVE ================= */
function save(){localStorage.setItem(SAVE_KEY,JSON.stringify(state))}
function load(){const d=localStorage.getItem(SAVE_KEY);if(d)state=JSON.parse(d)}

/* ================= CREATE ================= */
function updateCreateUI(){
  mcSelect.style.display=ligaInput.value==3?"block":"none";
  if(ligaInput.value==3){
    mcSelect.innerHTML="";
    LIGA3_MCS.forEach(m=>mcSelect.innerHTML+=`<option>${m}</option>`);
  }
}
function createChar(){
  const liga=+ligaInput.value;
  state.chars.push({
    liga,
    name:liga==4?(nameInput.value||"Rider"):mcSelect.value,
    mc:liga==4?"EigenstÃ¤ndig":mcSelect.value,
    money:liga==4?500:2000,
    members:liga==4?1:6,
    influence:liga==4?0:20,
    weapons:0,
    weed:0,
    heat:0
  });
  save();renderChars();go("chars");
}

/* ================= UI ================= */
function renderChars(){
  charList.innerHTML="";
  state.chars.forEach((c,i)=>{
    charList.innerHTML+=`<button onclick="startGame(${i})">${c.name} (Liga ${c.liga})</button>`;
  });
}
function startGame(i){
  current=i;
  go("game");
  renderGame();
}
function renderGame(){
  const p=state.chars[current];

  hudMoney.textContent=p.money;
  hudMembers.textContent=p.members;
  hudWeapons.textContent=p.weapons;

  hudHeat.textContent="Heat "+p.heat+"%";
  hudHeat.className="hud-item hud-heat "+(p.heat<40?"low":p.heat<70?"mid":"high");

  panelChar.innerHTML=`
    <div class="card">
      <strong>${p.name}</strong><br>
      Liga ${p.liga}<br>
      Club: ${p.mc}<br>
      Einfluss: ${p.influence}%
    </div>
  `;

  panelMap.innerHTML="";
  REGIONS.forEach(r=>{
    panelMap.innerHTML+=`
      <div class="region">
        <strong>${r.name}</strong><br>
        Besitzer: ${r.owner}<br>
        LoyalitÃ¤t: ${MCs[r.owner].loyalty}%
      </div>`;
  });

  panelShop.innerHTML="";
  Object.keys(MCs).forEach(mc=>{
    panelShop.innerHTML+=`
      <div class="card">
        <strong>${mc}</strong><br>
        LoyalitÃ¤t: ${MCs[mc].loyalty}%<br>
        <button onclick="buyWeed('${mc}')">ğŸŒ¿ Gras kaufen (500 â‚¬)</button>
        <button onclick="buyWeapon('${mc}')">ğŸ”« Waffe kaufen (1000 â‚¬)</button>
      </div>`;
  });

  panelPolice.innerHTML=`
    <div class="card">
      Heat: ${p.heat}%<br>
      <button onclick="bribe()">ğŸ’¸ Polizei schmieren</button>
    </div>
  `;
}

/* ================= ACTIONS ================= */
function buyWeed(mc){
  const p=state.chars[current];
  if(p.money<500)return;
  p.money-=500;p.weed++;p.heat+=5;MCs[mc].loyalty+=3;
  save();renderGame();
}
function buyWeapon(mc){
  const p=state.chars[current];
  if(MCs[mc].loyalty<50||p.money<1000)return;
  p.money-=1000;p.weapons++;p.heat+=8;MCs[mc].loyalty+=2;
  save();renderGame();
}
function bribe(){
  const p=state.chars[current];
  const cost=p.liga==4?1000:3000;
  if(p.money<cost)return;
  p.money-=cost;p.heat=Math.max(0,p.heat-25);
  save();renderGame();
}

/* ================= INIT ================= */
load();
renderChars();
</script>

</body>
</html>
